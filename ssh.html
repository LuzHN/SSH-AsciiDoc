<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="========================================">
<title>SSH - AUTENTICACIÓN DE DOS FACTORES</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left data-line-1">
<div id="header">
<h1>SSH - AUTENTICACIÓN DE DOS FACTORES</h1>
<div class="details">
<span id="author" class="author">========================================</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Índice de Contenido</div>
<ul class="sectlevel1">
<li><a href="#_autores">1. <span class="icon"><i class="fa fa-group"></i></span> Autores</a></li>
<li><a href="#_introducción">2. <span class="icon"><i class="fa fa-file"></i></span> Introducción</a>
<ul class="sectlevel2">
<li><a href="#_introducción_2">2.1. <strong>Introducción</strong></a></li>
</ul>
</li>
<li><a href="#_objetivos_y_problema">3. <span class="icon"><i class="fa fa-file"></i></span> Objetivos y Problema</a>
<ul class="sectlevel3">
<li><a href="#_objetivos">3.1. <strong>Objetivos</strong></a></li>
<li><a href="#_problema">3.2. <strong>Problema</strong></a></li>
<li><a href="#_solución">3.3. <strong>Solución</strong></a></li>
</ul>
</li>
<li><a href="#_herramientas">4. <span class="icon"><i class="fa fa-wrench"></i></span> Herramientas</a></li>
<li><a href="#_preparativos_instalación_de_herramientas_configuración">5. <span class="icon"><i class="fa fa-wrench"></i></span> Preparativos: Instalación de Herramientas - Configuración</a>
<ul class="sectlevel2">
<li><a href="#_open_ssh">5.1. <strong>Open-SSH</strong></a></li>
<li><a href="#_ngrok">5.2. <strong>Ngrok</strong></a></li>
<li><a href="#_google_authentication">5.3. <strong>Google Authentication</strong></a></li>
<li><a href="#_operación">5.4. <strong>Operación</strong></a></li>
<li><a href="#_actualización">5.5. <strong>Actualización</strong></a></li>
<li><a href="#_validación">5.6. <strong>Validación</strong></a>
<ul class="sectlevel3">
<li><a href="#_evidencia_2">5.6.1. <strong>Evidencia</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_bibliografia"><span class="icon"><i class="fa fa-book"></i></span> Bibliografia</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center data-line-16">
<div class="content">
<img src="images/ssh_1.png" alt="ssh 1">
</div>
</div>
</div>
</div>
<div class="sect1 data-line-18">
<h2 id="_autores">1. <span class="icon"><i class="fa fa-group"></i></span> Autores</h2>
<div class="sectionbody">
<div class="ulist data-line-1">
<ul>
<li class="data-line-1">
<p><span class="icon"><i class="fa fa-male"></i></span> <strong>Luis Enrique Cabrera Oyuela</strong></p>
</li>
<li class="data-line-2">
<p><span class="icon"><i class="fa fa-inbox"></i></span> <a href="mailto:coldblitz@unitec.edu">coldblitz@unitec.edu</a></p>
</li>
<li class="data-line-3">
<p><span class="icon"><i class="fa fa-calendar"></i></span> 2020-09-20 20:00 CST</p>
</li>
</ul>
</div>
<hr>
<div class="ulist data-line-7">
<ul>
<li class="data-line-7">
<p><span class="icon"><i class="fa fa-male"></i></span> <strong>Carlos Guillermo Casco Valle</strong></p>
</li>
<li class="data-line-8">
<p><span class="icon"><i class="fa fa-inbox"></i></span> <a href="mailto:cgcascovalle@unitec.edu">cgcascovalle@unitec.edu</a></p>
</li>
<li class="data-line-9">
<p><span class="icon"><i class="fa fa-calendar"></i></span> 2020-09-20 20:00 CST</p>
</li>
</ul>
</div>
<hr>
<div class="ulist data-line-13">
<ul>
<li class="data-line-13">
<p><span class="icon"><i class="fa fa-male"></i></span> <strong>Nombre</strong></p>
</li>
<li class="data-line-14">
<p><span class="icon"><i class="fa fa-inbox"></i></span> correo</p>
</li>
<li class="data-line-15">
<p><span class="icon"><i class="fa fa-calendar"></i></span> 2020-09-20 20:00 CST</p>
</li>
</ul>
</div>
<hr>
<div class="ulist data-line-19">
<ul>
<li class="data-line-19">
<p><span class="icon"><i class="fa fa-male"></i></span> <strong>Nombre</strong></p>
</li>
<li class="data-line-20">
<p><span class="icon"><i class="fa fa-inbox"></i></span> correo</p>
</li>
<li class="data-line-21">
<p><span class="icon"><i class="fa fa-calendar"></i></span> 2020-09-20 20:00 CST</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
<div class="sect1 data-line-22">
<h2 id="_introducción">2. <span class="icon"><i class="fa fa-file"></i></span> Introducción</h2>
<div class="sectionbody">
<div class="sect2 data-line-1">
<h3 id="_introducción_2">2.1. <strong>Introducción</strong></h3>
<div class="paragraph data-line-3">
<p>Este proyecto de investigación trata acerca de la autenticación de dos factores (conocida también como 2FA) en SSH. Esta autenticación requiere que se ingresen dos datos para ingresar sesión. Nuestro fin es explicar qué es la 2FA, bajo que mecanismos funciona, su importancia y uso en tecnologías modernas, y finalmente proveer un ejemplo de su implementación.</p>
</div>
<div class="paragraph data-line-24">
<p>La tecnología moderna avanza cada vez más, y con ella, la necesidad de implementar mejores medidas de seguridad para proteger los datos de los usuarios se vuelve más evidente. Uno de los métodos que podemos utilizar, como una capa adicional de seguridad, es el 2FA.</p>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-26">
<h2 id="_objetivos_y_problema">3. <span class="icon"><i class="fa fa-file"></i></span> Objetivos y Problema</h2>
<div class="sectionbody">
<div class="sect3 data-line-2">
<h4 id="_objetivos">3.1. <strong>Objetivos</strong></h4>
<div class="ulist data-line-3">
<ul>
<li class="data-line-3">
<p>Explicar correctamente qué es 2FA y su funcionamiento.</p>
</li>
<li class="data-line-5">
<p>Hacer una implementación detallada del 2FA.</p>
</li>
</ul>
</div>
</div>
<div class="sect3 data-line-7">
<h4 id="_problema">3.2. <strong>Problema</strong></h4>
<div class="sect4 data-line-9">
<h5 id="_antecedentes">3.2.1. <strong>Antecedentes</strong></h5>
<div class="paragraph data-line-11">
<p>La autenticación de dos factores funciona como un paso adicional a un proceso, una segunda capa de seguridad, por así decir, que nos ayuda a verificar la identidad de un usuario. El propósito del 2FA es complicar el proceso de ataque a una persona que quiera cometer un fraude, reduciendo el riesgo de ataques exitosos y robos que podrían incluir cualquier cantidad de cosas – desde fotos de nuestras mascotas, hasta información de tarjetas de crédito e historial de compras (y, desafortunadamente en algunos casos, información que es altamente personal) (Chupurici, 2016).</p>
</div>
<div class="paragraph data-line-13">
<p>Si bien es cierto que algunas compañías cuentan con políticas de seguridad estrictas, hay alguien que siempre es vulnerable a ataques, especialmente si la tecnología no es un campo donde se tiene mucha experiencia – el usuario. Nuevas técnicas de hackeo han surgido en los últimos años, incluyendo (pero no limitándose a) el Phishing.</p>
</div>
<div class="paragraph data-line-15">
<p>El phishing es un cibercrimen en el que un objetivo es contactado por medio de correo electrónico o teléfono (Phising.org, n.d.). Estos correos usualmente solicitan información personal de usuarios, proviniendo de fuentes que son aparentemente legítimas. Lastimosamente, hay usuarios que caen en este tipo de solicitudes y envían cualquier cantidad de datos – incluyendo su información de tarjetas de crédito o información personales. Es un tipo de hackeo social, podría decirse, donde finalmente la psicología y la tecnología trabajan en conjunto para manipular a las personas a compartir información confidencial.</p>
</div>
<div class="paragraph data-line-17">
<p>El 2FA soluciona, de alguna manera este problema. Aunque nosotros compartiéramos nuestra contraseña con otra persona, hay aspectos de nuestras vidas que son estrictamente nuestros (o al menos, se supone que lo sean). Amazon y Google, por ejemplo, utilizan un factor con el que casi todas las personas, de casi cualquier trasfondo económico o social, contamos – el móvil.</p>
</div>
<div class="paragraph data-line-19">
<p>Nuestro celular suele ser esa herramienta, la minicomputadora, que cargamos en nuestro bolsillo en todo momento, usualmente con mucho recelo. Aunque alguien quisiera acceder a nuestras cuentas teniendo nuestra información personal, para terminar de acceder, tendrían que conseguir información a la que, idealmente, solo nosotros podemos obtener en tiempo real.</p>
</div>
<div class="paragraph data-line-21">
<p>Por supuesto, siempre existe la posibilidad de perder nuestro móvil o no tenerlo a la mano, pero siempre han existido y continuarán existiendo factores que queden fuera de nuestro control. Aún así, tener la seguridad extra sigue siendo la mejor idea – y el 2FA solo es una de muchas medidas que podemos tomar para proteger nuestra información.</p>
</div>
</div>
<div class="sect4 data-line-23">
<h5 id="_evidencia">3.2.2. <strong>Evidencia</strong></h5>
<div class="paragraph data-line-25">
<p>Cristina Chipurici es una autora para Heimdal Security, y cuenta como un día no pudo acceder a sus cuentas. Su correo electrónico había sido accedido, su tarjeta de crédito utilizada para transacciones extrañas. Esto sucedió luego de que despidió a un exempleado.</p>
</div>
<div class="paragraph data-line-27">
<p>En algún momento, es posible que hayamos escuchado acerca de un caso similar de una fuente personal.</p>
</div>
</div>
</div>
<div class="sect3 data-line-29">
<h4 id="_solución">3.3. <strong>Solución</strong></h4>
<div class="paragraph data-line-31">
<p>El 2FA es una manera eficiente de suplementar contraseñas, agregando una capa adicional de seguridad requiriendo de los usuarios ingresar un dato que solo ellos conocerían. Los ATMs utilizan este sistema, cuando solicita un PIN y la tarjeta de banco al momento de realizar transacciones.</p>
</div>
<div class="paragraph data-line-33">
<p>Hay al menos cuatro formas de realizar la autenticación de dos factores (Gillin, 2017):</p>
</div>
<div class="paragraph data-line-35">
<p>Verificación por SMS. Esta opción es la más popular actualmente. Sitios como Google y Facebook lo utilizan en la actualidad, aunque sea de manera opcional. Es simple, porque la mayoría de las personas tienen un celular y un número telefónico hoy en día. Su desventaja es que el SMS no es universal – si no hay señal, no hay mensaje. Tampoco sería muy útil si alguien tuviera acceso físico a nuestro móvil.</p>
</div>
<div class="paragraph data-line-37">
<p>Applicaciones de Autenticación. Hoy en día hay aplicaciones que sirven para generar códigos únicos (One-time only) como claves secundarias al momento de ingresar. La ventaja es que son compatibles con múltiples aplicaciones, son nativas al dispositivo utilizado y no dependen de redes telefónicas. Su desventaja es que no existe protección contra robo, además de que no cuenta con la misma simplicidad que el factor SMS.</p>
</div>
<div class="paragraph data-line-39">
<p>Autenticación física. Es actualmente la forma más segura de implementar 2FA. Este método necesita un token físico (como un puerto USB) para generar una clave única. Este método es utilizado por bancos y otras compañías que lidian con información delicada. Su desventaja es que es costoso, y si perdemos nuestra llave física…bueno, eso es un problema.</p>
</div>
<div class="paragraph data-line-41">
<p>Biométrica. Es el único factor que no depende de algo que sepamos o tengamos, si no quienes somos, específicamente. La lectura de huellas digitales, el reconocimiento de voz o rostro – todas estas cosas son pertinentes de nuestra biométrica. En teoría, esta debería de ser la forma más resiliente de 2FA, y es imposible que un ladrón replique algo como nuestras huellas digitales. Sin embargo, en práctica, la biométrica todavía necesita mejorar mucho en términos de tecnología.</p>
</div>
<div class="paragraph data-line-43">
<p>De acuerdo con los resultados de este estudio, el 2FA es una solución que equipa a los usuarios con una manera eficiente (en relación costo-beneficio) de proveer medios de autenticación flexibles y seguras a gran escalas, considerando la diversidad de audiencias dentro y fuera de una infraestructura, disminuyendo el porcentaje de transacciones fraudulentas que ocurrían cuando dependíamos de la autenticación de un solo factor (Adeoye, 2012).</p>
</div>
<div class="paragraph data-line-45">
<p>A continuación, mostramos un ejemplo de como utilizar la autenticación de dos factores.</p>
</div>
</div>
</div>
</div>
<div class="sect1 data-line-30">
<h2 id="_herramientas">4. <span class="icon"><i class="fa fa-wrench"></i></span> Herramientas</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1 data-line-0">
<h2 id="_preparativos_instalación_de_herramientas_configuración">5. <span class="icon"><i class="fa fa-wrench"></i></span> Preparativos: Instalación de Herramientas - Configuración</h2>
<div class="sectionbody">
<div class="sect2 data-line-4">
<h3 id="_open_ssh">5.1. <strong>Open-SSH</strong></h3>
<div class="paragraph data-line-5">
<p>En nuestra terminal, ejecutamos el siguiente comando:</p>
</div>
<div class="listingblock data-line-8">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo apt-get install openssh-server -y</code></pre>
</div>
</div>
<div class="imageblock text-center data-line-12">
<div class="content">
<img src="images/1_1_install_ssh.png" alt="1 1 install ssh">
</div>
</div>
<div class="paragraph data-line-15">
<p>Al finalizar la instalacion, revisamos el estado de SSH:</p>
</div>
<div class="listingblock data-line-18">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo systemctl status ssh</code></pre>
</div>
</div>
<div class="imageblock text-center data-line-22">
<div class="content">
<img src="images/1_2_ssh_status.png" alt="1 2 ssh status">
</div>
</div>
<div class="olist arabic data-line-24">
<ol class="arabic">
<li class="data-line-24">
<p>. . y listo!</p>
</li>
</ol>
</div>
</div>
<div class="sect2 data-line-27">
<h3 id="_ngrok">5.2. <strong>Ngrok</strong></h3>
<div class="paragraph data-line-29">
<p>Para efectos practicos, decidimos utilizar esta herramienta para permitir acceso remoto a la PC que vamos a configurar.</p>
</div>
<div class="ulist data-line-31">
<ul>
<li class="data-line-31">
<p><strong>Opcion 1: Descarga de la pagina Oficial</strong></p>
</li>
</ul>
</div>
<div class="paragraph data-line-33">
<p>Damos click en el siguiente link para descargar el programa.</p>
</div>
<div class="paragraph data-line-35">
<p><a href="https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip" class="bare">https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip</a></p>
</div>
<div class="paragraph data-line-37">
<p>Luego descomprimimos el archivo</p>
</div>
<div class="listingblock data-line-40">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">unzip ngrok.zip</code></pre>
</div>
</div>
<div class="paragraph data-line-44">
<p>&#8230;&#8203;y por ahora estamos bien!</p>
</div>
<div class="ulist data-line-48">
<ul>
<li class="data-line-48">
<p><strong>Opcion 2: Descarga por Snap</strong></p>
</li>
</ul>
</div>
<div class="paragraph data-line-50">
<p>Abrimos la En nuestra terminal, ejecutamos el siguiente comando:</p>
</div>
<div class="listingblock data-line-53">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo snap install ngrok</code></pre>
</div>
</div>
<div class="paragraph data-line-57">
<p>Comprobamos la instalacion del paquete</p>
</div>
<div class="imageblock text-center data-line-59">
<div class="content">
<img src="images/1_3_ngrok.png" alt="1 3 ngrok">
</div>
</div>
<div class="ulist data-line-63">
<ul>
<li class="data-line-63">
<p><strong>Configurar Ngrok</strong></p>
</li>
</ul>
</div>
<div class="paragraph data-line-65">
<p>Debemos entrar a la pagina oficial de Ngrok, y crear una cuenta.</p>
</div>
<div class="paragraph data-line-67">
<p><a href="https://ngrok.com/" class="bare">https://ngrok.com/</a></p>
</div>
<div class="imageblock text-center data-line-69">
<div class="content">
<img src="images/1_4_crear_cuenta_ngrok.png" alt="1 4 crear cuenta ngrok">
</div>
</div>
<div class="paragraph data-line-71">
<p>Luego accedemos a nuestro dashboard, y copiamos nuestra auth token</p>
</div>
<div class="imageblock text-center data-line-73">
<div class="content">
<img src="images/1_5_authtoken_ngrok.png" alt="1 5 authtoken ngrok">
</div>
</div>
<div class="paragraph data-line-76">
<p>Ahora necesitamos guardar esta authtoken en nuestra instalacion.</p>
</div>
<div class="listingblock data-line-79">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">#Si se escogio la primera opcion de instalacion
./&lt;directorio_de_descarga&gt;/ngrok authtoken &lt;nuestro_authtoken&gt;

#Si se escogio la segunda opcion
ngrok authtoken &lt;nuestro_authtoken&gt;</code></pre>
</div>
</div>
<div class="paragraph data-line-86">
<p>&#8230;&#8203;y listo!</p>
</div>
</div>
<div class="sect2 data-line-88">
<h3 id="_google_authentication">5.3. <strong>Google Authentication</strong></h3>
<div class="paragraph data-line-90">
<p>Instalamos el modulo Google Authenticator PAM :</p>
</div>
<div class="listingblock data-line-93">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo apt install libpam-google-authenticator</code></pre>
</div>
</div>
<div class="imageblock text-center data-line-97">
<div class="content">
<img src="images/1_6_install_googleauth.png" alt="1 6 install googleauth">
</div>
</div>
<div class="paragraph data-line-99">
<p>Luego debemos modificar el archivo <strong>/etc/pam.d/sshd</strong> :</p>
</div>
<div class="listingblock data-line-102">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo nano /etc/pam.d/sshd</code></pre>
</div>
</div>
<div class="paragraph data-line-106">
<p>y agregamos la siguiente linea:</p>
</div>
<div class="listingblock data-line-109">
<div class="content">
<pre class="highlight"><code class="language-txt" data-lang="txt">auth required pam_google_authenticator.so</code></pre>
</div>
</div>
<div class="imageblock text-center data-line-113">
<div class="content">
<img src="images/1_7_ssh_conf.png" alt="1 7 ssh conf">
</div>
</div>
<div class="paragraph data-line-115">
<p>Luego reiniciamos el servicio de sshd.</p>
</div>
<div class="listingblock data-line-118">
<div class="content">
<pre class="highlight"><code class="language-txt" data-lang="txt">sudo systemctl restart sshd.service</code></pre>
</div>
</div>
<div class="paragraph data-line-122">
<p>Modificamos el archivo <strong>/etc/ssh/sshd_config</strong> y cambiamos <strong><em>ChallengeResponseAuthentication no</em></strong> a <strong><em>ChallengeResponseAuthentication yes</em></strong>.</p>
</div>
<div class="listingblock data-line-125">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sudo nano /etc/ssh/sshd_config</code></pre>
</div>
</div>
<div class="imageblock text-center data-line-129">
<div class="content">
<img src="images/1_8_sshconf.png" alt="1 8 sshconf">
</div>
</div>
<div class="paragraph data-line-131">
<p>Ya estamos listos para el ejercicio!</p>
</div>
</div>
<div class="sect2 data-line-133">
<h3 id="_operación">5.4. <strong>Operación</strong></h3>
<div class="paragraph data-line-135">
<p>Google Authenticator hace que la configuración de la autenticación de dos factores sea mucho más fácil, en comparación con (por ejemplo) libpam-oath.</p>
</div>
<div class="paragraph data-line-137">
<p>En una terminal, ejecute el comando google-authenticator.</p>
</div>
<div class="paragraph data-line-139">
<p>Esta acción generará una serie de preguntas. Recomendamos la siguiente configuración:</p>
</div>
<div class="ulist data-line-141">
<ul>
<li class="data-line-141">
<p>Hacer tokens "base de tiempo" ": sí</p>
</li>
<li class="data-line-142">
<p>Actualice el archivo .google_authenticator: sí</p>
</li>
<li class="data-line-143">
<p>No permitir usos múltiples: sí</p>
</li>
<li class="data-line-144">
<p>Aumentar el límite de tiempo de generación original: no</p>
</li>
<li class="data-line-145">
<p>Habilitar la limitación de velocidad: sí</p>
</li>
</ul>
</div>
<div class="paragraph data-line-147">
<p>Es posible que haya notado el código QR gigante que se genera durante el proceso. Debajo, muestra sus códigos de emergencia por si no tiene acceso a su teléfono.</p>
</div>
<div class="imageblock text-center data-line-149">
<div class="content">
<img src="images/ssh_2.png" alt="ssh 2">
</div>
</div>
<div class="paragraph data-line-151">
<p>Este es el código que se nos generó a nosotros.</p>
</div>
<div class="imageblock text-center data-line-153">
<div class="content">
<img src="images/ssh_3.png" alt="ssh 3">
</div>
</div>
<div class="paragraph data-line-155">
<p>Estas son nuestras claves. Ahora, abramos Google Authenticator y agreguemos nuestra clave secreta para que funcione.</p>
</div>
</div>
<div class="sect2 data-line-157">
<h3 id="_actualización">5.5. <strong>Actualización</strong></h3>

</div>
<div class="sect2 data-line-159">
<h3 id="_validación">5.6. <strong>Validación</strong></h3>
<div class="sect3 data-line-161">
<h4 id="_evidencia_2">5.6.1. <strong>Evidencia</strong></h4>
<div class="paragraph data-line-163">
<p>Procedimos a hacer pruebas. Desde un Ubuntu en otra máquina, conseguimos la dirección a la que querríamos hacer conexión por medio de SSH.</p>
</div>
<div class="imageblock text-center data-line-165">
<div class="content">
<img src="images/ssh_4.png" alt="ssh 4">
</div>
</div>
<div class="paragraph data-line-167">
<p>Al principio de este documento, habrá notado que utilizamos ngrok. El motivo es que, cuando quisimos establecer la conexión sin ngrok, no logramos hacerlo.</p>
</div>
<div class="imageblock text-center data-line-169">
<div class="content">
<img src="images/ssh_5.png" alt="ssh 5">
</div>
</div>
<div class="paragraph data-line-171">
<p>Una vez establecido que se puede hacer la conexión, se solicitan las credenciales para ingresar. Ingresamos la clave.</p>
</div>
<div class="paragraph data-line-35">
<p>Y así, establecimos que la instalación de todo el proceso fue exitosa</p>
</div>
</div>
</div>
</div>
</div>
<h1 id="_bibliografia" class="sect0 data-line-38"><span class="icon"><i class="fa fa-book"></i></span> Bibliografia</h1>
<div class="ulist data-line-40">
<ul>
<li class="data-line-40">
<p><span class="icon"><i class="fa fa-book"></i></span> <a href="https://asciidoctor.org/docs/user-manual/">Asciidoctor User Manual</a></p>
</li>
<li class="data-line-41">
<p><span class="icon"><i class="fa fa-book"></i></span> <a href="https://asciidoctor.org/docs/asciidoc-syntax-quick-reference/">AsciiDoc Syntax Quick Reference</a></p>
</li>
<li class="data-line-42">
<p><span class="icon"><i class="fa fa-book"></i></span> <a href="https://leanpub.com/awesomeasciidoctornotebook/read">Awesome Asciidoctor Notebook</a></p>
</li>
<li class="data-line-43">
<p><span class="icon"><i class="fa fa-book"></i></span> <a href="https://jorge-aguilera.gitlab.io/tutoasciidoc/">Tutorial superbasico AsciiDoctor</a></p>
</li>
<li class="data-line-44">
<p><span class="icon"><i class="fa fa-plug"></i></span> <a href="https://marketplace.visualstudio.com/items?itemName=asciidoctor.asciidoctor-vscode">AsciiDoc support for Visual Studio Code</a></p>
</li>
<li class="data-line-47">
<p><span class="icon"><i class="fa fa-book"></i></span> Chupurici, C. (2016, Enero 20). Why You Should Start Using Two-Factor Authentication Now. Retrieved from Heimdal Security: <a href="https://heimdalsecurity.com/blog/start-using-two-factor-authentication/#:~:text=Two%2Dfactor%20authentication%20works%20as,harder%20and%20reduce%20fraud%20risks" class="bare">https://heimdalsecurity.com/blog/start-using-two-factor-authentication/#:~:text=Two%2Dfactor%20authentication%20works%20as,harder%20and%20reduce%20fraud%20risks</a>.</p>
</li>
<li class="data-line-48">
<p><span class="icon"><i class="fa fa-book"></i></span> Gillin, P. (2017, Enero 30). Two-Factor Authentication: A Little Goes a Long Way. Retrieved from Security Intelligence: <a href="https://securityintelligence.com/two-factor-authentication-a-little-goes-a-long-way/" class="bare">https://securityintelligence.com/two-factor-authentication-a-little-goes-a-long-way/</a></p>
</li>
<li class="data-line-49">
<p><span class="icon"><i class="fa fa-book"></i></span>  Phising.org. (n.d.). What Is Phishing? Retrieved from Phishing.org: <a href="https://www.phishing.org/what-is-phishing#:~:text=Phishing%20is%20a%20cybercrime%20in,credit%20card%20details%2C%20and%20passwords" class="bare">https://www.phishing.org/what-is-phishing#:~:text=Phishing%20is%20a%20cybercrime%20in,credit%20card%20details%2C%20and%20passwords</a>.</p>
</li>
<li class="data-line-50">
<p><span class="icon"><i class="fa fa-book"></i></span> Ubuntu. (n.d.). Configure SSH to use two-factor authentication. Retrieved from Ubuntu Tutorials: <a href="https://ubuntu.com/tutorials/configure-ssh-2fa#1-overview" class="bare">https://ubuntu.com/tutorials/configure-ssh-2fa#1-overview</a></p>
</li>
</ul>
</div>
<hr>
<div class="paragraph text-center data-line-55">
<p><strong>HECHO</strong> CON <span class="icon"><i class="fa fa-heart fa-1x"></i></span> POR <strong>estudiantes de UNITEC</strong></p>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-09-20 18:27:32 -0600
</div>
</div>
</body>
</html>